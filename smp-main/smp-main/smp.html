<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MYNRNZXHML"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MYNRNZXHML');
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <!-- Added Google Fonts for a Masters-like look -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
  <title>Sommerville Masters Pool Leaderboard</title>
  <style>
    /* ==========================================
       CSS VARIABLES & BASE STYLES
       ========================================== */
    :root {
      --masters-green: #003525;
      --masters-light-bg: #f7f5ef;
      --masters-hover: #e5ffe5;
      --masters-text: #003300;
      --white: #fff;
      --border-color: #ddd;
      --shadow-light: rgba(0,0,0,0.1);
      --shadow-medium: rgba(0,0,0,0.2);
      --card-bg: #ffffff;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
    }

    /* Dark theme colors with high contrast */
    [data-theme="dark"] {
      --masters-green: #00ff88;
      --masters-light-bg: #0a0a0a;
      --masters-hover: #1a4d2e;
      --masters-text: #00ff88;
      --white: #1a1a1a;
      --border-color: #333;
      --shadow-light: rgba(255,255,255,0.05);
      --shadow-medium: rgba(255,255,255,0.1);
      --card-bg: #1a1a1a;
      --text-primary: #ffffff;
      --text-secondary: #b0b0b0;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Libre Baskerville', 'Times New Roman', serif;
      margin: 0;
      padding: 0;
      background-color: var(--masters-light-bg);
      color: var(--text-primary);
      font-size: 16px;
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* ==========================================
       THEME TOGGLE BUTTON
       ========================================== */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--card-bg);
      border: 2px solid var(--masters-green);
      border-radius: 50px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 1.2em;
      box-shadow: 0 4px 12px var(--shadow-medium);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px var(--shadow-medium);
    }

    .theme-toggle:active {
      transform: scale(0.95);
    }

    .theme-label {
      font-size: 0.75em;
      color: var(--text-primary);
      font-weight: 600;
    }

    /* ==========================================
       HEADER STYLES
       ========================================== */
    header {
      background-color: var(--masters-green);
      background-size: cover;
      background-position: center;
      color: var(--white);
      padding: 15px 20px;
      text-align: center;
      transition: background-color 0.3s ease;
    }

    header h1 {
      z-index: 1;
      font-size: clamp(1.2em, 4vw, 1.8em);
      margin: 10px 0;
      font-family: 'Libre Baskerville', 'Times New Roman', serif;
      color: var(--text-primary);
    }

    [data-theme="dark"] header h1 {
      color: #0a0a0a;
    }

    .logo {
      display: block;
      margin: 0 auto;
      max-width: 150px;
      width: 100%;
      height: auto;
      max-height: 60px;
      object-fit: contain;
    }

    /* ==========================================
       MAIN CONTENT STYLES
       ========================================== */
    main {
      padding: 15px;
      max-width: 800px;
      text-align: center;
      margin: 0 auto;
      padding-bottom: 120px;
    }

    section {
      margin-bottom: 20px;
    }

    /* Card styles with collapsible functionality */
    .card {
      background-color: var(--card-bg);
      padding: 15px;
      text-align: center;
      max-width: 100%;
      margin: 20px auto;
      border-radius: 8px;
      box-shadow: 0 2px 6px var(--shadow-light);
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      cursor: pointer;
      overflow: hidden;
    }

    .card:hover {
      box-shadow: 0 4px 12px var(--shadow-medium);
      transform: translateY(-2px);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
    }

    .card-preview {
      font-size: 0.9em;
      color: var(--text-secondary);
      margin-top: 8px;
      line-height: 1.4;
    }

    .card-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }

    .card.expanded .card-content {
      max-height: 2000px;
      margin-top: 15px;
    }

    .card-toggle {
      font-size: 1.5em;
      transition: transform 0.3s ease;
      color: var(--masters-green);
    }

    .card.expanded .card-toggle {
      transform: rotate(180deg);
    }

    .timer,
    .updates,
    #weather-widget,
    #golf-leaderboard,
    #pool-leaderboard,
    .slideshow,
    #historical-winners,
    #sommerville-registration {
      background-color: var(--card-bg);
      padding: 15px;
      text-align: center;
      max-width: 100%;
      margin: 20px auto;
      border-radius: 8px;
      box-shadow: 0 2px 6px var(--shadow-light);
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
    }

    .update-image,
    .summary-image {
      display: block;
      margin: 16px auto 0 auto;
      max-height: 250px;
      width: auto;
      max-width: 100%;
      height: auto;
      object-fit: contain;
      border-radius: 5px;
    }

    h2 {
      color: var(--masters-green);
      text-align: center;
      font-size: clamp(1em, 3vw, 1.3em);
      margin: 10px 0;
      font-family: 'Libre Baskerville', 'Times New Roman', serif;
    }

    /* ==========================================
       LIST STYLES
       ========================================== */
    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    li {
      background-color: var(--card-bg);
      color: var(--text-primary);
      margin: 5px 0;
      padding: 12px;
      border-radius: 5px;
      box-shadow: 0 1px 3px var(--shadow-light);
      border: 1px solid var(--border-color);
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
      font-size: clamp(0.85em, 2.5vw, 0.95em);
      min-height: 44px;
      display: flex;
      align-items: center;
    }

    li:hover {
      background-color: var(--masters-hover);
      transform: translateY(-1px);
      box-shadow: 0 2px 6px var(--shadow-light);
    }

    li:active {
      transform: scale(0.98);
    }

    .expand {
      display: none;
      margin-top: 8px;
      padding: 10px;
      background-color: var(--masters-hover);
      border-radius: 5px;
      font-size: clamp(0.8em, 2.3vw, 0.9em);
      text-align: left;
      color: var(--text-primary);
    }

    .golf-icon {
      width: 15px;
      height: 15px;
      background-image: url('https://i.etsystatic.com/16454555/r/il/f205d2/4762277869/il_570xN.4762277869_89g1.jpg');
      background-size: contain;
      display: inline-block;
      vertical-align: middle;
      margin-right: 8px;
      flex-shrink: 0;
    }

    /* ==========================================
       FOOTER STYLES
       ========================================== */
    footer {
      background-color: var(--masters-green);
      color: var(--text-primary);
      padding: 20px 15px;
      text-align: center;
      font-size: clamp(0.85em, 2.5vw, 0.95em);
      transition: background-color 0.3s ease;
    }

    [data-theme="dark"] footer {
      color: #0a0a0a;
    }

    footer p {
      margin: 10px 0;
    }

    /* ==========================================
       SLIDESHOW STYLES
       ========================================== */
    .slideshow {
      width: 100%;
      max-width: 100%;
      height: 250px;
      overflow: hidden;
      margin: 20px auto;
      position: relative;
      border-radius: 8px;
    }

    .slideshow img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: 8px;
      transition: opacity 0.8s ease-in-out;
    }

    /* ==========================================
       TABLE STYLES
       ========================================== */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px auto;
      font-size: clamp(0.8em, 2.3vw, 0.9em);
    }

    th,
    td {
      padding: 10px 8px;
      background-color: var(--card-bg);
      border: 1px solid var(--border-color);
      text-align: center;
      border-radius: 3px;
      color: var(--text-primary);
    }

    th {
      background-color: var(--masters-green);
      color: var(--text-primary);
      font-weight: 700;
    }

    [data-theme="dark"] th {
      color: #0a0a0a;
    }

    tr:nth-child(even) {
      background-color: var(--card-bg);
    }

    /* ==========================================
       BUTTON STYLES
       ========================================== */
    .collapse-btn {
      margin: 10px auto;
      display: block;
      background: var(--masters-hover);
      color: var(--masters-text);
      border: 2px solid var(--masters-text);
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: clamp(0.85em, 2.5vw, 0.95em);
      font-family: 'Libre Baskerville', 'Times New Roman', serif;
      min-height: 44px;
      min-width: 120px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .collapse-btn:hover {
      background: var(--masters-text);
      color: var(--card-bg);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 53, 37, 0.3);
    }

    .collapse-btn:active {
      transform: scale(0.95);
    }

    /* ==========================================
       AUDIO CONTROLS
       ========================================== */
    #audio-controls {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: var(--card-bg);
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--border-color);
      box-shadow: 0 4px 12px var(--shadow-medium);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      z-index: 999;
      max-width: calc(100vw - 40px);
      transition: all 0.3s ease;
    }

    #audio-controls button {
      padding: 10px 14px;
      border: none;
      background: var(--masters-green);
      color: var(--card-bg);
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      min-height: 44px;
      min-width: 44px;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    [data-theme="dark"] #audio-controls button {
      color: #0a0a0a;
    }

    #audio-controls button:hover {
      opacity: 0.85;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px var(--shadow-medium);
    }

    #audio-controls button:active {
      transform: scale(0.95);
    }

    #audio-status {
      font-weight: 400;
      color: var(--text-primary);
      font-size: clamp(0.75em, 2vw, 0.85em);
      text-align: center;
    }

    /* ==========================================
       CHATANGO CONTAINER
       ========================================== */
    #chatango-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 998;
    }

    /* ==========================================
       WEATHER WIDGET
       ========================================== */
    #weather-forecast > div {
      display: inline-block;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 10px;
      margin: 6px;
      min-width: 100px;
      box-shadow: 0 2px 4px var(--shadow-light);
      transition: all 0.3s ease;
      background-color: var(--card-bg);
    }

    #weather-forecast > div:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px var(--shadow-light);
    }

    /* ==========================================
       REGISTRATION LINK
       ========================================== */
    #sommerville-registration a {
      display: inline-block;
      text-decoration: none;
      background-color: var(--masters-green);
      color: var(--card-bg);
      padding: 12px 24px;
      border-radius: 5px;
      font-family: 'Libre Baskerville', 'Times New Roman', serif;
      font-size: clamp(0.9em, 2.5vw, 1em);
      min-height: 44px;
      transition: all 0.3s ease;
    }

    [data-theme="dark"] #sommerville-registration a {
      color: #0a0a0a;
    }

    #sommerville-registration a:hover {
      opacity: 0.85;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px var(--shadow-medium);
    }

    #sommerville-registration a:active {
      transform: translateY(0);
    }

    /* ==========================================
       TOAST NOTIFICATION SYSTEM
       ========================================== */
    .toast-container {
      position: fixed;
      top: 80px;
      right: 20px;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 10px;
      pointer-events: none;
      max-width: 400px;
    }

    .toast {
      background: var(--card-bg);
      padding: 16px 20px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
      gap: 12px;
      min-height: 60px;
      pointer-events: all;
      animation: slideInRight 0.3s ease-out;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .toast:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .toast:active {
      transform: scale(0.98);
    }

    .toast.success {
      border-left: 4px solid #10B981;
    }

    .toast.info {
      border-left: 4px solid #3B82F6;
    }

    .toast.warning {
      border-left: 4px solid #F59E0B;
    }

    .toast.error {
      border-left: 4px solid #EF4444;
    }

    .toast-icon {
      font-size: 24px;
      line-height: 1;
      flex-shrink: 0;
    }

    .toast-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .toast-title {
      font-weight: 600;
      font-size: 14px;
      color: var(--text-primary);
      margin: 0;
    }

    .toast-message {
      font-size: 13px;
      color: var(--text-secondary);
      margin: 0;
      line-height: 1.4;
    }

    .toast-close {
      background: none;
      border: none;
      font-size: 20px;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 4px;
      line-height: 1;
      flex-shrink: 0;
      transition: color 0.2s ease;
    }

    .toast-close:hover {
      color: var(--text-primary);
    }

    .toast-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background: linear-gradient(90deg, #10B981, #059669);
      animation: progressBar 3s linear forwards;
    }

    .toast.info .toast-progress {
      background: linear-gradient(90deg, #3B82F6, #2563EB);
    }

    .toast.warning .toast-progress {
      background: linear-gradient(90deg, #F59E0B, #D97706);
    }

    .toast.error .toast-progress {
      background: linear-gradient(90deg, #EF4444, #DC2626);
    }

    @keyframes slideInRight {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideInUp {
      from {
        transform: translateY(100px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes progressBar {
      from {
        width: 100%;
      }
      to {
        width: 0%;
      }
    }

    .toast.removing {
      animation: slideOutRight 0.3s ease-in forwards;
    }

    @keyframes slideOutRight {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(400px);
        opacity: 0;
      }
    }

    @keyframes slideOutDown {
      from {
        transform: translateY(0);
        opacity: 1;
      }
      to {
        transform: translateY(100px);
        opacity: 0;
      }
    }

    /* ==========================================
       RIPPLE EFFECT
       ========================================== */
    .ripple {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.6);
      transform: scale(0);
      animation: rippleEffect 0.6s ease-out;
      pointer-events: none;
    }

    @keyframes rippleEffect {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }

    /* ==========================================
       PULSE ANIMATION
       ========================================== */
    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(16, 185, 129, 0);
      }
    }

    .pulse-once {
      animation: pulse 0.6s ease-out;
    }

    /* ==========================================
       SKELETON LOADER
       ========================================== */
    .skeleton {
      background: linear-gradient(
        90deg,
        #f0f0f0 0%,
        #e0e0e0 20%,
        #f0f0f0 40%,
        #f0f0f0 100%
      );
      background-size: 200% 100%;
      animation: shimmer 1.5s ease-in-out infinite;
      border-radius: 4px;
    }

    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }

    /* ==========================================
       LOADING SPINNER
       ========================================== */
    .spinner {
      border: 3px solid rgba(0, 53, 37, 0.1);
      border-top-color: var(--masters-green);
      border-radius: 50%;
      width: 24px;
      height: 24px;
      animation: spin 0.8s linear infinite;
      display: inline-block;
      vertical-align: middle;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* ==========================================
       RESPONSIVE MEDIA QUERIES
       ========================================== */
    @media screen and (max-width: 480px) {
      body {
        font-size: 14px;
      }

      header {
        padding: 10px 15px;
      }

      header h1 {
        font-size: 1.2em;
        margin: 8px 0;
      }

      .logo {
        max-width: 120px;
        max-height: 45px;
      }

      main {
        padding: 10px;
        padding-bottom: 100px;
      }

      .timer,
      .updates,
      #weather-widget,
      #golf-leaderboard,
      #pool-leaderboard,
      .slideshow,
      #historical-winners,
      #sommerville-registration {
        padding: 12px;
        margin: 15px auto;
        border-radius: 6px;
      }

      .slideshow {
        height: 180px;
      }

      .update-image {
        max-height: 180px;
      }

      #audio-controls {
        bottom: 10px;
        left: 10px;
        right: 10px;
        max-width: calc(100vw - 20px);
        padding: 10px;
      }

      #audio-controls > div:first-child {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
        justify-content: center;
      }

      #audio-controls button {
        padding: 8px 12px;
        font-size: 14px;
        min-height: 40px;
        min-width: 40px;
      }

      #chatango-container {
        display: none;
      }

      #weather-forecast > div {
        display: block;
        margin: 8px auto;
        max-width: 280px;
      }

      table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }

      th, td {
        padding: 8px 6px;
        font-size: 0.8em;
      }

      .toast-container {
        top: 70px;
        left: 10px;
        right: 10px;
        max-width: none;
      }

      .toast {
        animation: slideInUp 0.3s ease-out;
      }

      .toast.removing {
        animation: slideOutDown 0.3s ease-in forwards;
      }

      .theme-toggle {
        top: 10px;
        right: 10px;
        padding: 6px 12px;
        font-size: 1em;
      }

      .theme-label {
        display: none;
      }
    }

    @media screen and (min-width: 481px) and (max-width: 768px) {
      main {
        padding: 15px;
        padding-bottom: 110px;
      }

      .slideshow {
        height: 220px;
      }

      #audio-controls {
        bottom: 15px;
        left: 15px;
      }

      #chatango-container {
        bottom: 15px;
        right: 15px;
      }

      #weather-forecast > div {
        min-width: 110px;
      }
    }

    @media screen and (min-width: 769px) and (max-width: 1024px) {
      main {
        max-width: 700px;
        padding: 20px;
      }

      .slideshow {
        height: 280px;
      }

      #audio-controls {
        bottom: 20px;
        left: 20px;
      }
    }

    @media screen and (min-width: 1025px) {
      main {
        max-width: 800px;
      }

      .slideshow {
        height: 300px;
      }

      #weather-forecast > div {
        min-width: 115px;
      }
    }

    @media screen and (max-height: 600px) and (orientation: landscape) {
      #audio-controls {
        bottom: 10px;
        left: 10px;
        padding: 8px;
        gap: 6px;
      }

      #audio-controls button {
        padding: 6px 10px;
        font-size: 14px;
      }

      #chatango-container {
        display: none;
      }

      main {
        padding-bottom: 80px;
      }
    }

    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      .golf-icon {
        background-size: cover;
      }
    }

    *:focus-visible {
      outline: 3px solid #FFD700;
      outline-offset: 2px;
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>

<body>

<!-- Theme Toggle Button -->
<button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
  <span id="theme-icon">‚òÄÔ∏è</span>
  <span class="theme-label" id="theme-label">Light</span>
</button>

<!-- Audio Player Controls -->
<div id="audio-controls">
  <div>
    <button id="play-pause" aria-label="Play or pause Masters theme song">‚èØÔ∏è</button>
    <button id="volume-down" aria-label="Decrease volume">üîâ</button>
    <button id="volume-up" aria-label="Increase volume">üîä</button>
  </div>
  <div id="audio-status" role="status" aria-live="polite"></div>
</div>

<header>
  <a href="https://kev11wolf.github.io/smp/" aria-label="Sommerville Masters Pool Home">
    <img src="https://esagcs.org/wp-content/uploads/2023/03/The-Masters.jpg" alt="The Masters Tournament Logo" class="logo">
  </a>
  <h1>Sommerville Masters Pool</h1>
</header>

<main>

  <section class="timer card" id="countdown-timer">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">‚è∞ Countdown</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Time until 2026 Masters Tournament</div>
    <div class="card-content">
      <p id="time-left" aria-live="polite"></p>
    </div>
  </section>

  <section class="updates card">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">üì¢ News + Updates</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Latest announcements and highlights</div>
    <div class="card-content">
      <p>Thanks for playing! See you all in 2026.</p>
      <img src="https://i.postimg.cc/wjy1wZ2X/2025-masters.png" alt="2025 Masters Pool Winner Celebration" class="update-image">
    </div>
  </section>

  <section id="weather-widget" class="card">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">üå§Ô∏è Augusta Weather</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview" id="weather-preview">Loading weather...</div>
    <div class="card-content">
      <div id="weather-current" style="margin-bottom: 15px;" aria-live="polite">
        Loading current weather‚Ä¶
      </div>
      <div id="weather-forecast" aria-live="polite">
        Loading 7-day forecast‚Ä¶
      </div>
    </div>
  </section>

  <section id="sommerville-registration" class="card">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">‚úçÔ∏è Registration</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Submit your player selections</div>
    <div class="card-content">
      <p>Click the button below to submit your selections!</p>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSeFdQqMiI8_6rMCRZCMvR5AMDjgjY1Uyq_V2_GUGkQk1tJ6ag/viewform?usp=header" 
         target="_blank" 
         rel="noopener noreferrer">
        Pick your players!
      </a>
    </div>
  </section>

  <section class="slideshow card">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">üñºÔ∏è Augusta Gallery</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Beautiful photos of Augusta National</div>
    <div class="card-content">
      <img id="slideshow-image" src="" alt="Augusta National Golf Course" style="margin-top: 15px;">
    </div>
  </section>

  <section id="pool-leaderboard" class="card expanded">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">üèÜ Pool Leaderboard</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Current pool participant standings</div>
    <div class="card-content">
      <button id="toggle-pool-button" class="collapse-btn" aria-expanded="true">Collapse</button>
      <ul id="pool-list" role="list">
        <!-- Pool participant scores will be inserted here -->
      </ul>
    </div>
  </section>

  <section id="golf-leaderboard" class="card">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">‚õ≥ Golf Leaderboard</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Top 10 golf players (tap to expand all)</div>
    <div class="card-content">
      <button id="toggle-button" class="collapse-btn" aria-expanded="false">Show More</button>
      <ul id="golf-list" role="list">
        <!-- Golf player scores will be inserted here -->
      </ul>
    </div>
  </section>

  <section id="historical-winners" class="card">
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <h2 style="margin: 0;">üéñÔ∏è Past Champions</h2>
      <span class="card-toggle">‚ñº</span>
    </div>
    <div class="card-preview">Sommerville Masters Pool hall of fame</div>
    <div class="card-content">
      <table role="table">
        <thead>
        <tr>
          <th scope="col">Year</th>
          <th scope="col">Champion</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>2025</td>
          <td>Jason</td>
        </tr>
        <tr>
          <td>2024</td>
          <td>Blake</td>
        </tr>
        <tr>
          <td>2023</td>
          <td>Brandon E.</td>
        </tr>
        <tr>
          <td>2022</td>
          <td>Dima</td>
        </tr>
        <tr>
          <td>2021</td>
          <td>Zach K.</td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>

  <div id="chatango-container">
    <script id="cid0020000416183938966" data-cfasync="false" async src="//st.chatango.com/js/gz/emb.js"
            style="width: 250px;height: 350px;">
      {"handle":"sommerville-masters","arch":"js","styles":{"b":100,"c":"000000","d":"000000","l":"FFFFFF","m":"FFFFFF","p":"10","r":100,"fwtickm":1}}
    </script>
  </div>

</main>

<footer>
  <p>Website created by K-Dawg</p>
  <svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="Masters Tournament Badge">
    <title>Masters wordmark</title>
    <defs>
      <linearGradient id="badgeFill" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%" stop-color="#FAD84E"/>
        <stop offset="100%" stop-color="#F6C915"/>
      </linearGradient>
      <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
        <feDropShadow dx="0" dy="1" stdDeviation="1.2" flood-color="rgba(0,0,0,.25)"/>
      </filter>
      <style>
        .word {
          font-family: "Libre Baskerville", Baskerville, "Times New Roman", serif;
          font-style: italic;
          font-weight: 700;
          letter-spacing: -0.5px;
        }
      </style>
    </defs>
    <rect x="1.5" y="1.5" width="61" height="61" rx="6" ry="6" fill="url(#badgeFill)" stroke="#106d3b" stroke-width="2"
          filter="url(#softShadow)"/>
    <text x="30" y="39" class="word" fill="#106d3b" font-size="18" text-anchor="middle" textLength="44"
          lengthAdjust="spacingAndGlyphs">MASTERS</text>
    <g transform="translate(52,18)">
      <path d="M0 0 L0 18" stroke="#2b2b2b" stroke-width="1.6" stroke-linecap="round"/>
      <path d="M0 0 L9 3 L0 6 Z" fill="#D62828" stroke="#9c1f1f" stroke-width="0.7" stroke-linejoin="round"/>
      <ellipse cx="-1.5" cy="18.5" rx="2.8" ry="1.1" fill="#0b0b0b" opacity="0.2"/>
    </g>
  </svg>
</footer>

<script>
  /* ==========================================
     THEME TOGGLE FUNCTIONALITY
     ========================================== */
  function initTheme() {
    // Force light mode as default, ignoring system preferences
    const savedTheme = localStorage.getItem('theme');
    const theme = savedTheme || 'light';

    document.documentElement.setAttribute('data-theme', theme);
    updateThemeButton(theme);
  }

  function toggleTheme() {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';

    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    updateThemeButton(newTheme);

    toast.success(
      newTheme === 'dark' ? 'Dark Mode' : 'Light Mode',
      `Switched to ${newTheme} theme`,
      2000
    );
  }

  function updateThemeButton(theme) {
    const themeIcon = document.getElementById('theme-icon');
    const themeLabel = document.getElementById('theme-label');

    if (theme === 'dark') {
      themeIcon.textContent = 'üåô';
      themeLabel.textContent = 'Dark';
    } else {
      themeIcon.textContent = '‚òÄÔ∏è';
      themeLabel.textContent = 'Light';
    }
  }

  // Initialize theme on load
  initTheme();

  // Add event listener
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);

  /* ==========================================
     CARD TOGGLE FUNCTIONALITY
     ========================================== */
  function toggleCard(card) {
    const wasExpanded = card.classList.contains('expanded');
    card.classList.toggle('expanded');

    // Save card state
    const cardId = card.id || card.className.split(' ')[0];
    if (cardId) {
      localStorage.setItem(`card-${cardId}`, card.classList.contains('expanded'));
    }
  }

  // Restore card states on load
  function restoreCardStates() {
    document.querySelectorAll('.card').forEach(card => {
      const cardId = card.id || card.className.split(' ')[0];
      const savedState = localStorage.getItem(`card-${cardId}`);

      if (savedState === 'true') {
        card.classList.add('expanded');
      }
    });
  }

  /* ==========================================
     TOAST NOTIFICATION SYSTEM
     ========================================== */
  class ToastManager {
    constructor() {
      this.container = null;
      this.toasts = [];
      this.init();
    }

    init() {
      if (!document.querySelector('.toast-container')) {
        this.container = document.createElement('div');
        this.container.className = 'toast-container';
        this.container.setAttribute('aria-live', 'polite');
        this.container.setAttribute('aria-atomic', 'true');
        document.body.appendChild(this.container);
      } else {
        this.container = document.querySelector('.toast-container');
      }
    }

    show(options) {
      const {
        type = 'info',
        title = '',
        message = '',
        duration = 3000,
        icon = this.getDefaultIcon(type),
        vibrate = true
      } = options;

      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.setAttribute('role', 'alert');

      toast.innerHTML = `
        <span class="toast-icon" aria-hidden="true">${icon}</span>
        <div class="toast-content">
          ${title ? `<p class="toast-title">${title}</p>` : ''}
          ${message ? `<p class="toast-message">${message}</p>` : ''}
        </div>
        <button class="toast-close" aria-label="Close notification">&times;</button>
        <div class="toast-progress"></div>
      `;

      this.container.appendChild(toast);
      this.toasts.push(toast);

      if (vibrate && 'vibrate' in navigator) {
        const pattern = type === 'error' ? [100] : [50, 30, 50];
        navigator.vibrate(pattern);
      }

      const closeBtn = toast.querySelector('.toast-close');
      closeBtn.addEventListener('click', () => this.dismiss(toast));

      toast.addEventListener('click', (e) => {
        if (e.target !== closeBtn) {
          this.dismiss(toast);
        }
      });

      if (duration > 0) {
        setTimeout(() => this.dismiss(toast), duration);
      }

      this.addSwipeGesture(toast);

      return toast;
    }

    dismiss(toast) {
      if (!toast || !toast.parentElement) return;

      toast.classList.add('removing');
      setTimeout(() => {
        if (toast.parentElement) {
          toast.parentElement.removeChild(toast);
          this.toasts = this.toasts.filter(t => t !== toast);
        }
      }, 300);
    }

    addSwipeGesture(toast) {
      let startX = 0;
      let currentX = 0;
      let isSwiping = false;

      toast.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        isSwiping = true;
      }, { passive: true });

      toast.addEventListener('touchmove', (e) => {
        if (!isSwiping) return;
        currentX = e.touches[0].clientX;
        const diff = currentX - startX;

        if (Math.abs(diff) > 10) {
          toast.style.transform = `translateX(${diff}px)`;
          toast.style.opacity = 1 - Math.abs(diff) / 200;
        }
      }, { passive: true });

      toast.addEventListener('touchend', () => {
        const diff = currentX - startX;

        if (Math.abs(diff) > 100) {
          this.dismiss(toast);
        } else {
          toast.style.transform = '';
          toast.style.opacity = '';
        }

        isSwiping = false;
      });
    }

    getDefaultIcon(type) {
      const icons = {
        success: '‚úì',
        error: '‚úï',
        warning: '‚ö†',
        info: '‚Ñπ'
      };
      return icons[type] || icons.info;
    }

    success(title, message, duration) {
      return this.show({ type: 'success', title, message, duration, icon: '‚úì' });
    }

    error(title, message, duration) {
      return this.show({ type: 'error', title, message, duration, icon: '‚úï' });
    }

    warning(title, message, duration) {
      return this.show({ type: 'warning', title, message, duration, icon: '‚ö†' });
    }

    info(title, message, duration) {
      return this.show({ type: 'info', title, message, duration, icon: '‚Ñπ' });
    }
  }

  const toast = new ToastManager();

  /* ==========================================
     BUTTON RIPPLE EFFECT
     ========================================== */
  function addRippleEffect(element) {
    element.addEventListener('click', function(e) {
      const ripple = document.createElement('span');
      ripple.className = 'ripple';

      const rect = this.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const x = e.clientX - rect.left - size / 2;
      const y = e.clientY - rect.top - size / 2;

      ripple.style.width = ripple.style.height = size + 'px';
      ripple.style.left = x + 'px';
      ripple.style.top = y + 'px';

      this.appendChild(ripple);

      setTimeout(() => ripple.remove(), 600);
    });
  }

  /* ==========================================
     AUDIO PLAYER WITH TOAST NOTIFICATIONS
     ========================================== */
  const audio = new Audio("https://github.com/kev11wolf/public/raw/refs/heads/main/smp-main/smp-main/Enjoy%20the%20Sound%20Of%20_Augusta_%20_%20The%20Masters%20Theme%20Song%20On%20Repeat(1).mp3");
  audio.loop = true;
  audio.volume = 0.5;

  const playPauseBtn = document.getElementById('play-pause');
  const volumeUpBtn = document.getElementById('volume-up');
  const volumeDownBtn = document.getElementById('volume-down');
  const audioStatus = document.getElementById('audio-status');
  let isPlaying = false;

  playPauseBtn.onclick = () => {
    if (!isPlaying) {
      audio.play().catch(() => {
        audioStatus.textContent = 'Click play to start music üéµ';
        toast.warning('Autoplay Blocked', 'Click play to start the music', 3000);
      });
    } else {
      audio.pause();
    }
  };

  audio.onplay = () => {
    isPlaying = true;
    playPauseBtn.textContent = '‚è∏Ô∏è';
    playPauseBtn.setAttribute('aria-label', 'Pause Masters theme song');
    audioStatus.textContent = 'Masters Theme Playing ‚ñ∂Ô∏è';
    toast.success('Now Playing', 'Masters Theme Song ‚ô™', 2500);
  };

  audio.onpause = () => {
    isPlaying = false;
    playPauseBtn.textContent = '‚èØÔ∏è';
    playPauseBtn.setAttribute('aria-label', 'Play Masters theme song');
    audioStatus.textContent = 'Masters Theme Paused ‚è∏Ô∏è';
    toast.info('Paused', 'Click play to resume', 2000);
  };

  volumeUpBtn.onclick = () => {
    if (audio.volume < 1) {
      audio.volume = Math.min(1, audio.volume + 0.1);
      const volumePercent = Math.round(audio.volume * 100);
      toast.show({
        type: 'info',
        title: 'Volume',
        message: `${volumePercent}%`,
        duration: 1500,
        icon: 'üîä',
        vibrate: true
      });
    } else {
      toast.warning('Max Volume', 'Volume is at 100%', 1500);
    }
  };

  volumeDownBtn.onclick = () => {
    if (audio.volume > 0) {
      audio.volume = Math.max(0, audio.volume - 0.1);
      const volumePercent = Math.round(audio.volume * 100);
      toast.show({
        type: 'info',
        title: 'Volume',
        message: `${volumePercent}%`,
        duration: 1500,
        icon: 'üîâ',
        vibrate: true
      });
    } else {
      toast.info('Muted', 'Volume is at 0%', 1500);
    }
  };

  window.onload = () => {
    audio.play().catch(() => {
      console.log('Auto-play blocked. Use the play button.');
      audioStatus.textContent = 'Click play to start üéµ';
    });
  };

  /* ==========================================
     COUNTDOWN TIMER WITH MILESTONES
     ========================================== */
  let lastMilestone = localStorage.getItem('lastMilestone') || '';

  function updateCountdown() {
    const futureDate = new Date("09 April 2026").getTime();
    const now = new Date().getTime();
    const timeLeft = futureDate - now;

    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

    document.getElementById("time-left").textContent =
      `${days} Days ${hours} Hours ${minutes} Minutes ${seconds} Seconds`;

    // Milestone celebrations
    if (days === 100 && hours === 0 && minutes === 0 && lastMilestone !== '100d') {
      toast.show({
        type: 'success',
        title: '100 Days! üéØ',
        message: 'Getting close to Masters time!',
        duration: 5000,
        icon: 'üèåÔ∏è'
      });
      localStorage.setItem('lastMilestone', '100d');
      lastMilestone = '100d';
    }

    if (days === 30 && hours === 0 && minutes === 0 && lastMilestone !== '30d') {
      toast.show({
        type: 'success',
        title: 'One Month! üéâ',
        message: 'Just 30 days until Augusta!',
        duration: 5000,
        icon: '‚õ≥'
      });
      localStorage.setItem('lastMilestone', '30d');
      lastMilestone = '30d';
    }

    if (days === 7 && hours === 0 && minutes === 0 && lastMilestone !== '7d') {
      toast.show({
        type: 'warning',
        title: 'One Week! üî•',
        message: 'Masters week is here!',
        duration: 5000,
        icon: 'üèÜ'
      });
      localStorage.setItem('lastMilestone', '7d');
      lastMilestone = '7d';
    }

    if (days === 1 && hours === 0 && minutes === 0 && lastMilestone !== '1d') {
      toast.show({
        type: 'success',
        title: 'Tomorrow! üéä',
        message: 'The Masters starts tomorrow!',
        duration: 6000,
        icon: '‚õ≥'
      });
      localStorage.setItem('lastMilestone', '1d');
      lastMilestone = '1d';
    }
  }

  setInterval(updateCountdown, 1000);
  updateCountdown();

  /* ==========================================
     SLIDESHOW, LEADERBOARD, AND WEATHER
     ========================================== */
  document.addEventListener('DOMContentLoaded', function() {
    // Apply ripple effect to all buttons
    document.querySelectorAll('button, .collapse-btn').forEach(btn => {
      addRippleEffect(btn);
    });

    // Restore card states
    restoreCardStates();

    // Slideshow with fade transitions
    const images = [
      'https://i.insider.com/5ac3ca737a74af24008b45c7?width=1000&format=jpeg',
      'https://media.stewarttravel.co.uk/media/repository/Golf/golfcourses/USA/Georgia/AugustaNational/Augusta-National.jpg',
      'https://static01.nyt.com/images/2025/05/12/multimedia/12nat-masters-photos-rory-win-sunday-chtq/12nat-masters-photos-rory-win-sunday-chtq-articleLarge.jpg',
      'https://images2.minutemediacdn.com/image/upload/c_crop,w_8025,h_4514,x_0,y_167/c_fill,w_720,ar_16:9,f_auto,q_auto,g_auto/images/ImagnImages/mmsport/si/01jabn4qvj71gpkb0kzy.jpg',
      'https://golfweek.usatoday.com/gcdn/authoring/authoring-images/2025/04/10/SGLF/83022855007-usatsi-25892403.jpg',
      'https://worldwide.golf/wp-content/uploads/2020/04/GettyImages-1685967.jpg',
      'https://worldwide.golf/wp-content/uploads/2020/04/GettyImages-83123181.jpg',
      'https://worldwide.golf/wp-content/uploads/2020/04/GettyImages-1074391880-1.jpg',
      'https://worldwide.golf/wp-content/uploads/2020/04/GettyImages-1145859172.jpg',
      'https://o90934w8.cdn.imgeng.in/wp-content/uploads/2015/04/amen-corner.jpg',
      'https://media.cnn.com/api/v1/images/stellar/prod/170223113519-tiger-augusta-azaleas.jpg',
      'https://www.liveabout.com/thmb/KqYZccVwvG6HOodBXslj-yYRDk4=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/augusta-national-azalea-rory-58272e685f9b58d5b15309db-5c251adf46e0fb0001e72d82.jpg',
      'https://e0.365dm.com/18/04/768x432/skysports-tiger-woods-masters_4271003.jpg?20180401182508'
    ];

    let currentImageIndex = 0;
    const slideshowImage = document.getElementById('slideshow-image');
    slideshowImage.src = images[currentImageIndex];

    function cycleSlideshow() {
      slideshowImage.style.opacity = '0';

      setTimeout(() => {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        slideshowImage.src = images[currentImageIndex];
        slideshowImage.style.opacity = '1';
      }, 800);
    }
    setInterval(cycleSlideshow, 3000);

    // Golf and Pool Leaderboard Data
    const golfLeaderboardData = [
      {name: 'Rory McIlroy', score:-11, roundScores:[0,-6,-6,1]},
      {name: 'Justin Rose', score:-11, roundScores:[-7,-1,3,-6]},
      {name: 'Patrick Reed', score:-9, roundScores:[-1,-2,-3,-3]},
      {name: 'Scottie Scheffler', score:-8, roundScores:[-4,-1,0,-3]},
      {name: 'Sungjae Im', score:-7, roundScores:[-1,-2,-1,-3]},
      {name: 'Bryson DeChambeau', score:-7, roundScores:[-3,-4,-3,3]},
      {name: 'Ludvig √Öberg', score:-6, roundScores:[-4,1,-3,0]},
      {name: 'Zach Johnson', score:-5, roundScores:[0,2,-6,-1]},
      {name: 'Xander Schauffele', score:-5, roundScores:[1,-3,-2,-1]},
      {name: 'Jason Day', score:-5, roundScores:[-2,-2,-1,0]},
      {name: 'Corey Conners', score:-5, roundScores:[-4,-2,-2,3]},
      {name: 'Harris English', score:-4, roundScores:[-2,1,1,-4]},
      {name: 'Max Homa', score:-4, roundScores:[2,-2,-3,-1]},
      {name: 'Bubba Watson', score:-3, roundScores:[-1,0,2,-4]},
      {name: 'Jon Rahm', score:-3, roundScores:[3,-1,-2,-3]},
      {name: 'Jordan Spieth', score:-3, roundScores:[1,1,-3,-2]},
      {name: 'Tom Hoge', score:-3, roundScores:[0,0,-2,-1]},
      {name: 'Tyrrell Hatton', score:-3, roundScores:[-3,-2,3,-1]},
      {name: 'Matt McCarty', score:-3, roundScores:[-1,-4,3,-1]},
      {name: 'Collin Morikawa', score:-3, roundScores:[0,-3,0,0]},
      {name: 'Hideki Matsuyama', score:-2, roundScores:[1,-4,7,-6]},
      {name: 'Daniel Berger', score:-2, roundScores:[-1,1,1,-3]},
      {name: 'Davis Riley', score:-2, roundScores:[1,-3,3,-3]},
      {name: 'Tommy Fleetwood', score:-2, roundScores:[1,-3,3,-3]},
      {name: 'Byeong Hun An', score:-2, roundScores:[2,-1,-2,-1]},
      {name: 'Viktor Hovland', score:-2, roundScores:[-1,-3,1,1]},
      {name: 'Aaron Rai', score:-1, roundScores:[-2,2,1,-2]},
      {name: 'Michael Kim', score:-1, roundScores:[-1,-1,2,-1]},
      {name: 'Denny McCarthy', score:0, roundScores:[-1,3,-1,-1]},
      {name: 'Sahith Theegala', score:0, roundScores:[0,0,1,-1]},
      {name: 'Joaqu√≠n Niemann', score:0, roundScores:[0,2,-2,0]},
      {name: 'Brian Campbell', score:1, roundScores:[0,1,4,-4]},
      {name: 'Maverick McNealy', score:1, roundScores:[0,1,-1,1]},
      {name: 'Max Greyserman', score:1, roundScores:[-1,3,-3,2]},
      {name: 'Rasmus H√∏jgaard', score:1, roundScores:[1,-5,3,2]},
      {name: 'Justin Thomas', score:2, roundScores:[1,-1,4,-2]},
      {name: 'Patrick Cantlay', score:2, roundScores:[2,0,1,-1]},
      {name: 'Brian Harman', score:2, roundScores:[-1,-1,5,-1]},
      {name: 'Charl Schwartzel', score:2, roundScores:[2,0,0,0]},
      {name: 'Nick Taylor', score:3, roundScores:[1,-1,2,1]},
      {name: 'Matt Fitzpatrick', score:3, roundScores:[-1,1,2,1]},
      {name: 'Akshay Bhatia', score:4, roundScores:[-2,4,3,-1]},
      {name: 'Danny Willett', score:4, roundScores:[3,-1,1,1]},
      {name: 'J.T. Poston', score:4, roundScores:[2,0,1,1]},
      {name: 'Shane Lowry', score:4, roundScores:[-1,-4,0,9]},
      {name: 'Wyndham Clark', score:5, roundScores:[4,-4,3,2]},
      {name: 'Sam Burns', score:5, roundScores:[1,-2,3,3]},
      {name: 'Davis Thompson', score:5, roundScores:[-1,1,-2,7]},
      {name: 'Min Woo Lee', score:6, roundScores:[-1,0,5,2]},
      {name: 'J.J. Spaun', score:7, roundScores:[2,0,2,3]},
      {name: 'Nico Echavarria', score:8, roundScores:[1,-2,-3,12]},
      {name: 'Stephan Jaeger', score:9, roundScores:[0,2,1,6]},
      {name: 'Tom Kim', score:9, roundScores:[1,1,0,7]},
      {name: 'Russell Henley', score:23, roundScores:[7,-4,10,10]},
      {name: 'Chris Kirk', score:23, roundScores:[3,0,10,10]},
      {name: 'Dustin Johnson', score:23, roundScores:[2,1,10,10]},
      {name: 'Bernhard Langer', score:23, roundScores:[2,1,10,10]},
      {name: 'Keegan Bradley', score:23, roundScores:[2,1,10,10]},
      {name: 'Justin Hastings (a)', score:24, roundScores:[4,0,10,10]},
      {name: 'Joe Highsmith', score:24, roundScores:[4,0,10,10]},
      {name: 'Rafael Campos', score:24, roundScores:[3,1,10,10]},
      {name: 'Mike Weir', score:24, roundScores:[3,1,10,10]},
      {name: 'Tony Finau', score:24, roundScores:[3,1,10,10]},
      {name: 'Adam Schenk', score:24, roundScores:[1,3,10,10]},
      {name: 'Sergio Garcia', score:24, roundScores:[0,4,10,10]},
      {name: 'Fred Couples', score:24, roundScores:[-1,5,10,10]},
      {name: 'Sepp Straka', score:25, roundScores:[6,-1,10,10]},
      {name: 'Adam Scott', score:25, roundScores:[5,0,10,10]},
      {name: 'Billy Horschel', score:25, roundScores:[5,0,10,10]},
      {name: 'Phil Mickelson', score:25, roundScores:[3,2,10,10]},
      {name: 'Brooks Koepka', score:25, roundScores:[2,3,10,10]},
      {name: 'Cameron Smith', score:25, roundScores:[-1,6,10,10]},
      {name: 'Austin Eckroat', score:26, roundScores:[4,2,10,10]},
      {name: 'Nicolai H√∏jgaard', score:26, roundScores:[4,2,10,10]},
      {name: 'Kevin Yu', score:26, roundScores:[4,2,10,10]},
      {name: 'Jhonattan Vegas', score:26, roundScores:[3,3,10,10]},
      {name: 'Robert MacIntyre', score:26, roundScores:[3,3,10,10]},
      {name: 'Hiroshi Tai (a)', score:26, roundScores:[1,5,10,10]},
      {name: 'Jos√© Mar√≠a Olaz√°bal', score:27, roundScores:[5,2,10,10]},
      {name: 'Christiaan Bezuidenhout', score:27, roundScores:[4,3,10,10]},
      {name: 'Cameron Young', score:27, roundScores:[0,7,10,10]},
      {name: 'Patton Kizzire', score:28, roundScores:[7,1,10,10]},
      {name: 'Lucas Glover', score:28, roundScores:[6,2,10,10]},
      {name: 'Taylor Pendrith', score:28, roundScores:[5,3,10,10]},
      {name: 'Will Zalatoris', score:28, roundScores:[2,6,10,10]},
      {name: 'Thomas Detry', score:29, roundScores:[7,2,10,10]},
      {name: 'Evan Beck (a)', score:29, roundScores:[5,4,10,10]},
      {name: 'Cam Davis', score:29, roundScores:[2,7,10,10]},
      {name: 'Matthieu Pavon', score:30, roundScores:[6,4,10,10]},
      {name: 'Laurie Canter', score:30, roundScores:[5,5,10,10]},
      {name: 'Jose Luis Ballester Barrio', score:30, roundScores:[4,6,10,10]},
      {name: 'Thriston Lawrence', score:31, roundScores:[7,4,10,10]},
      {name: 'Noah Kent (a)', score:31, roundScores:[7,4,10,10]},
      {name: '√Ångel Cabrera', score:31, roundScores:[3,8,10,10]},
      {name: 'Nick Dunlap', score:37, roundScores:[18,-1,10,10]},
    ];

    const poolLeaderboardData = [
      {
        name: 'K-Dawg',
        points: -13,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Bryson DeChambeau', score:-7},
          {name: 'Sahith Theegala', score:0},
          {name: 'Patrick Cantlay', score:2},
          {name: 'Phil Mickelson', score:25},
          {name: 'Cameron Young', score:27}
        ]
      },
      {
        name: 'Jason K.',
        points: -26,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Corey Conners', score:-5},
          {name: 'Min Woo Lee', score:6},
          {name: 'Daniel Berger', score:-2},
          {name: 'Cam Davis', score:29}
        ]
      },
      {
        name: 'Paul W.',
        points: -24,
        selectedPlayers:[
          {name: 'Jon Rahm', score:-3},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Shane Lowry', score:4},
          {name: 'Patrick Reed', score:-9},
          {name: 'Aaron Rai', score:-1},
          {name: 'Nick Taylor', score:3}
        ]
      },
      {
        name: 'Rick S.',
        points: -20,
        selectedPlayers:[
          {name: 'Collin Morikawa', score:-3},
          {name: 'Viktor Hovland', score:-2},
          {name: 'Patrick Cantlay', score:2},
          {name: 'Shane Lowry', score:4},
          {name: 'Justin Rose', score:-11},
          {name: 'Max Homa', score:-4}
        ]
      },
      {
        name: 'Addison G.',
        points: -19,
        selectedPlayers:[
          {name: 'Rory McIlroy', score:-11},
          {name: 'Collin Morikawa', score:-3},
          {name: 'Will Zalatoris', score:28},
          {name: 'Russell Henley', score:23},
          {name: 'Michael Kim', score:-1},
          {name: 'Max Homa', score:-4}
        ]
      },
      {
        name: 'Nat S.',
        points: -19,
        selectedPlayers:[
          {name: 'Collin Morikawa', score:-3},
          {name: 'Bryson DeChambeau', score:-7},
          {name: 'Tony Finau', score:24},
          {name: 'Corey Conners', score:-5},
          {name: 'Billy Horschel', score:25},
          {name: 'Max Homa', score:-4}
        ]
      },
      {
        name: 'Max',
        points: -18,
        selectedPlayers:[
          {name: 'Rory McIlroy', score:-11},
          {name: 'Collin Morikawa', score:-3},
          {name: 'Sergio Garcia', score:24},
          {name: 'Jason Day', score:-5},
          {name: 'Phil Mickelson', score:25},
          {name: 'Max Greyserman', score:1}
        ]
      },
      {
        name: 'Stephen',
        points: -17,
        selectedPlayers:[
          {name: 'Bryson DeChambeau', score:-7},
          {name: 'Ludvig √Öberg', score:-6},
          {name: 'Tony Finau', score:24},
          {name: 'Tom Kim', score:9},
          {name: 'Sungjae Im', score:-7},
          {name: 'Nick Taylor', score:3}
        ]
      },
      {
        name: 'Thomas K.',
        points: -15,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Collin Morikawa', score:-3},
          {name: 'Russell Henley', score:23},
          {name: 'Shane Lowry', score:4},
          {name: 'Aaron Rai', score:-1},
          {name: 'Tom Hoge', score:-3}
        ]
      },
      {
        name: 'Justin E.',
        points: -14,
        selectedPlayers:[
          {name: 'Rory McIlroy', score:-11},
          {name: 'Ludvig √Öberg', score:-6},
          {name: 'Will Zalatoris', score:28},
          {name: 'Patrick Cantlay', score:2},
          {name: 'Maverick McNealy', score:1},
          {name: 'Matthieu Pavon', score:30}
        ]
      },
      {
        name: 'Blake S.',
        points: -12,
        selectedPlayers:[
          {name: 'Rory McIlroy', score:-11},
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Min Woo Lee', score:6},
          {name: 'Cameron Smith', score:25},
          {name: 'Maverick McNealy', score:1},
          {name: 'Nicolai H√∏jgaard', score:26}
        ]
      },
      {
        name: 'Jailbirdie El Pato',
        points: -10,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Tony Finau', score:24},
          {name: 'Min Woo Lee', score:6},
          {name: 'Matt Fitzpatrick', score:3},
          {name: '√Ångel Cabrera', score:31}
        ]
      },
      {
        name: 'Zack K.',
        points: -9,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Xander Schauffele', score:-5},
          {name: 'Russell Henley', score:23},
          {name: 'Wyndham Clark', score:5},
          {name: 'Maverick McNealy', score:1},
          {name: 'Nick Taylor', score:3}
        ]
      },
      {
        name: 'Evan S.',
        points: -8,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Xander Schauffele', score:-5},
          {name: 'Patrick Cantlay', score:2},
          {name: 'Cameron Smith', score:25},
          {name: 'Matt Fitzpatrick', score:3},
          {name: 'Cameron Young', score:27}
        ]
      },
      {
        name: 'Dima K.',
        points: -5,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Cameron Smith', score:25},
          {name: 'Will Zalatoris', score:28},
          {name: 'Justin Rose', score:-11},
          {name: 'Cameron Young', score:27}
        ]
      },
      {
        name: 'Nate C.',
        points: -4,
        selectedPlayers:[
          {name: 'Viktor Hovland', score:-2},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Will Zalatoris', score:28},
          {name: 'Min Woo Lee', score:6},
          {name: 'Matt Fitzpatrick', score:3},
          {name: 'Cameron Young', score:27}
        ]
      },
      {
        name: 'Cole T.',
        points: -4,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Patrick Reed', score:-9},
          {name: 'Will Zalatoris', score:28},
          {name: 'Billy Horschel', score:25},
          {name: 'Joe Highsmith', score:24}
        ]
      },
      {
        name: 'Brady',
        points: -1,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Brooks Koepka', score:25},
          {name: 'Wyndham Clark', score:5},
          {name: 'Min Woo Lee', score:6},
          {name: 'Dustin Johnson', score:23},
          {name: 'Max Homa', score:-4}
        ]
      },
      {
        name: 'Jordan',
        points: 16,
        selectedPlayers:[
          {name: 'Collin Morikawa', score:-3},
          {name: 'Rory McIlroy', score:-11},
          {name: 'Sepp Straka', score:25},
          {name: 'Russell Henley', score:23},
          {name: 'J.J. Spaun', score:7},
          {name: 'Cameron Young', score:27}
        ]
      },
      {
        name: 'Brandon E.',
        points: 34,
        selectedPlayers:[
          {name: 'Scottie Scheffler', score:-8},
          {name: 'Ludvig √Öberg', score:-6},
          {name: 'Russell Henley', score:23},
          {name: 'Sepp Straka', score:25},
          {name: 'Billy Horschel', score:25},
          {name: 'Christiaan Bezuidenhout', score:27}
        ]
      }
    ];

    golfLeaderboardData.sort((a, b) => a.score - b.score);
    poolLeaderboardData.sort((a, b) => a.points - b.points);

    function updateLeaderboard(listId, data, scoreType, limit, btnId) {
      const list = document.getElementById(listId);
      list.innerHTML = '';

      let showAll = !limit;
      let btn = btnId ? document.getElementById(btnId) : null;

      if (showAll) {
        data.forEach((item, index) => createListItem(list, item, scoreType, index));
        if (btn) btn.style.display = 'none';
        return;
      }

      const topPlayers = data.slice(0, 10);
      topPlayers.forEach((item, index) => createListItem(list, item, scoreType, index));

      if (btn) btn.textContent = "Show More";
      if (!btn) return;

      btn.style.display = "block";
      let expanded = false;

      btn.onclick = function() {
        expanded = !expanded;
        list.innerHTML = '';

        if (expanded) {
          data.forEach((item, index) => createListItem(list, item, scoreType, index));
          btn.textContent = "Show Less";
          btn.setAttribute('aria-expanded', 'true');
          toast.info('Leaderboard', `Showing all ${data.length} players`, 1500);
        } else {
          topPlayers.forEach((item, index) => createListItem(list, item, scoreType, index));
          btn.textContent = "Show More";
          btn.setAttribute('aria-expanded', 'false');
          toast.info('Leaderboard', `Showing top ${topPlayers.length}`, 1500);
        }
      };
    }

    function createListItem(list, item, scoreType, index) {
      const li = document.createElement('li');
      const expandDiv = document.createElement('div');
      expandDiv.classList.add('expand');

      // Add trophy for first place
      if (index === 0) {
        li.innerHTML = `<span style="font-size:20px;">üèÜ</span> ${item.name}: ${item[scoreType]}`;
        li.classList.add('pulse-once');
      } else if (index === 1) {
        li.innerHTML = `<span style="font-size:18px;">ü•à</span> ${item.name}: ${item[scoreType]}`;
      } else if (index === 2) {
        li.innerHTML = `<span style="font-size:18px;">ü•â</span> ${item.name}: ${item[scoreType]}`;
      } else {
        li.innerHTML = `<span class="golf-icon"></span> ${item.name}: ${item[scoreType]}`;
      }

      if (item.roundScores) {
        const roundScores = item.roundScores
          .map((score, idx) => `<div>Round ${idx + 1}: ${score}</div>`)
          .join('');
        expandDiv.innerHTML = `<strong>Round Scores:</strong>${roundScores}`;
      }

      if (item.selectedPlayers) {
        item.selectedPlayers.forEach(player => {
          const playerInfo = document.createElement('div');
          playerInfo.textContent = `${player.name}: ${player.score}`;
          expandDiv.appendChild(playerInfo);
        });
      }

      li.appendChild(expandDiv);
      list.appendChild(li);

      li.addEventListener('click', function() {
        const expanded = expandDiv.style.display === 'block';
        document.querySelectorAll('.expand').forEach(div => div.style.display = 'none');
        expandDiv.style.display = expanded ? 'none' : 'block';
      });
    }

    updateLeaderboard('golf-list', golfLeaderboardData, 'score', 10, 'toggle-button');
    updateLeaderboard('pool-list', poolLeaderboardData, 'points', null, 'toggle-pool-button');

    const poolBtn = document.getElementById('toggle-pool-button');
    let poolExpanded = true;
    poolBtn.onclick = function() {
      poolExpanded = !poolExpanded;
      const poolList = document.getElementById('pool-list');

      if (poolExpanded) {
        poolList.innerHTML = '';
        poolLeaderboardData.forEach((item, index) => createListItem(poolList, item, 'points', index));
        poolBtn.textContent = "Collapse";
        poolBtn.setAttribute('aria-expanded', 'true');
      } else {
        poolList.innerHTML = '';
        poolBtn.textContent = "Expand";
        poolBtn.setAttribute('aria-expanded', 'false');
        toast.info('Collapsed', 'Pool leaderboard hidden', 1500);
      }
    };

    // First-time user tutorial
    if (!localStorage.getItem('tutorialComplete')) {
      setTimeout(() => {
        toast.info('Welcome! üëã', 'Tap any player to see detailed scores', 4000);

        setTimeout(() => {
          toast.info('Tip üí°', 'Click cards to expand/collapse content', 4000);
          localStorage.setItem('tutorialComplete', 'true');
        }, 5000);
      }, 2000);
    }
  });

  /* ==========================================
     WEATHER WIDGET WITH TOAST NOTIFICATIONS
     ========================================== */
  (async function(){
    const weatherCurrent = document.getElementById("weather-current");
    const weatherForecast = document.getElementById("weather-forecast");
    const weatherPreview = document.getElementById("weather-preview");
    const lat = 33.5025, lon = -82.02;
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max,temperature_2m_min,precipitation_probability_mean,weathercode&current_weather=true&temperature_unit=fahrenheit&windspeed_unit=mph&precipitation_unit=inch&timezone=auto`;

    const weatherCodeMap = {
      0: "Clear sky",
      1: "Mainly clear",
      2: "Partly cloudy",
      3: "Overcast",
      45: "Foggy",
      48: "Depositing rime fog",
      51: "Light drizzle",
      53: "Moderate drizzle",
      55: "Dense drizzle",
      56: "Freezing drizzle",
      57: "Freezing drizzle",
      61: "Slight rain",
      63: "Moderate rain",
      65: "Heavy rain",
      66: "Freezing rain",
      67: "Freezing rain",
      71: "Slight snowfall",
      73: "Moderate snowfall",
      75: "Heavy snowfall",
      77: "Snow grains",
      80: "Light rain showers",
      81: "Moderate rain showers",
      82: "Violent rain showers",
      85: "Slight snow showers",
      86: "Heavy snow showers",
      95: "Thunderstorm",
      96: "Thunders. w/ slight hail",
      99: "Thunders. w/ heavy hail"
    };

    const weatherEmojiMap = {
      0: "‚òÄÔ∏è",
      1: "üå§Ô∏è",
      2: "‚õÖ",
      3: "‚òÅÔ∏è",
      45: "üå´Ô∏è",
      48: "üå´Ô∏è",
      51: "üåßÔ∏è",
      53: "üåßÔ∏è",
      55: "üåßÔ∏è",
      56: "üåßÔ∏è",
      57: "üåßÔ∏è",
      61: "üåßÔ∏è",
      63: "üåßÔ∏è",
      65: "üåßÔ∏è",
      66: "üåßÔ∏è",
      67: "üåßÔ∏è",
      71: "‚ùÑÔ∏è",
      73: "‚ùÑÔ∏è",
      75: "‚ùÑÔ∏è",
      77: "‚ùÑÔ∏è",
      80: "üåßÔ∏è",
      81: "üåßÔ∏è",
      82: "üåßÔ∏è",
      85: "‚ùÑÔ∏è",
      86: "‚ùÑÔ∏è",
      95: "‚õàÔ∏è",
      96: "‚õàÔ∏è",
      99: "‚õàÔ∏è"
    };

    try {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(`Open-Meteo fetch failed: ${response.status}`);
      }
      const data = await response.json();

      if (data.current_weather) {
        const cw = data.current_weather;
        const codeText = weatherCodeMap[cw.weathercode] || "Unknown";
        const emoji = weatherEmojiMap[cw.weathercode] || "‚ùì";
        weatherCurrent.innerHTML = `
          <strong>Currently:</strong> ${emoji} ${cw.temperature}¬∞F | ${codeText} | Wind ${cw.windspeed} mph
        `;
        weatherPreview.textContent = `${emoji} ${cw.temperature}¬∞F - ${codeText}`;
      } else {
        weatherCurrent.textContent = "No current weather data.";
        weatherPreview.textContent = "No weather data";
      }

      if (data.daily && data.daily.time) {
        const { time, temperature_2m_max, temperature_2m_min, precipitation_probability_mean, weathercode } = data.daily;
        let forecastHTML = "";

        for (let i = 0; i < time.length; i++) {
          const dateObj = new Date(time[i]);
          const dayName = dateObj.toLocaleDateString(undefined, { weekday: "short" });
          const codeTx = weatherCodeMap[weathercode[i]] || "Unknown";
          const emoji = weatherEmojiMap[weathercode[i]] || "‚ùì";

          forecastHTML += `
            <div>
              <div><strong>${dayName}</strong></div>
              <div style="font-size:1.3em;margin:6px 0;">${emoji}</div>
              <div style="font-size:0.9em;color:var(--text-secondary);">${codeTx}</div>
              <div style="font-size:0.9em;color:var(--text-secondary);margin-top:8px;">High: ${temperature_2m_max[i]}¬∞F</div>
              <div style="font-size:0.9em;color:var(--text-secondary);">Low: ${temperature_2m_min[i]}¬∞F</div>
              <div style="font-size:0.9em;color:var(--text-secondary);">Precip: ${precipitation_probability_mean[i]}%</div>
            </div>
          `;
        }
        weatherForecast.innerHTML = forecastHTML;
      } else {
        weatherForecast.textContent = "No forecast data.";
      }

      // Success toast
      toast.success('Weather Updated', 'Augusta forecast loaded', 2000);

    } catch (err) {
      weatherCurrent.textContent = "Could not load weather data.";
      weatherForecast.textContent = "";
      weatherPreview.textContent = "Weather unavailable";
      console.error(err);

      // Error toast
      toast.error('Connection Error', 'Could not load weather data', 4000);
    }
  })();
</script>

</body>
</html>
